@inherits SettingsFormBase

@namespace app.Components.Singular

@if (_settings is not null)
{
    <form>
        <fieldset>
            <legend class="text-2xl">Settings</legend>
            <div class="golden-border border-4 rounded-md p-3 flex flex-col gap-y-4">
                <div class="flex items-center gap-x-2">
                    <label for="showExplicitAnimes">Show Explicit Animes</label>
                    <CustomCheckbox Id="showExplicitAnimes" Value="@_settings.ShowExplicitAnime"
                                    ValueChanged="@(v => _settings.ShowExplicitAnime = v)" />
                </div>
                <div class="flex items-center gap-x-2">
                    <label for="allowReminders">Allow Reminders</label>
                    <CustomCheckbox Id="allowReminders" Value="@_settings.AllowReminders"
                                    ValueChanged="@(v => _settings.AllowReminders = v)" />
                </div>
                <div>
                    <label for="timeZoneSelect">Time Zone</label>
                    <CustomSelectbox Id="timeZoneSelect" Value="@_settings.TimeZone" Options="@_timeZones"
                                     ValueChanged="@(v => _settings.TimeZone = v)" />
                </div>
                <button type="button" @onclick="SaveSettings"
                        class="secondary-background-color rounded-md ms-auto px-3 py-1 hover:brightness-95 active:brightness-90 w-40 cursor-pointer">Save</button>
                @if (!string.IsNullOrEmpty(_errorMessage))
                {
                    <div class="error-block w-fit ms-auto">
                        <span>@_errorMessage</span>
                    </div>
                }
                @if (!string.IsNullOrEmpty(_successMessage))
                {
                    <div class="success-block w-fit ms-auto">
                        <span>@_successMessage</span>
                    </div>
                }
            </div>
        </fieldset>
    </form>
}
else
{
    <p>Settings are not loaded.</p>
}